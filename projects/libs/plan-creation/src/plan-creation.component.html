<div class="tui-container">
  <form
    [formGroup]="planForm"
    (ngSubmit)="onButtonClick$.next()"
  >
    <div class="tui-row tui-row_sme">
      <div class="tui-col_8">
        <div class="container">
          <h1 class="tui-form__header tui-form__header_margin-top_none">
            Новый план
          </h1>
          <tui-input
            formControlName="name"
          >
            Название
            <input tuiTextfield/>
          </tui-input>
          <div class="tui-form__row tui-form__row_multi-fields">
            <tui-input-number
              class="tui-form__multi-field"
              formControlName="initialBalance"
              [tuiTextfieldPostfix]="'RUB' | tuiCurrency"
            >
              Начальная сумма
              <input tuiTextfield/>
            </tui-input-number>

            <tui-input-date-range
              formControlName="period"
              class="tui-form__multi-field"
              tuiUnfinishedValidator="Заполните период"
            >
              Период
              <input tuiTextfield/>
            </tui-input-date-range>
          </div>

          <div class="tui-form__buttons">
            <tui-loader
              [inheritColor]="true"
              [overlay]="true"
              [showLoader]="(loading$ | async) ?? false"
            >
              <button
                size="l"
                tuiButton
                type="submit"
                class="tui-form__button"
                [disabled]="planForm.invalid || (loading$ | async) ?? false"
              >
                Создать
              </button>
            </tui-loader>
            <button
              appearance="flat"
              size="l"
              tuiButton
              type="button"
              class="tui-form__button"
              routerLink="/plan-list"
            >
              Отмена
            </button>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>
